# Example 4 InputFile: 3-D RC frame subjected to earthquake base excitation

<p><a href="Tcl_input_files_for_the_provided_application_examples:"
title="wikilink">Return to Tcl input files for the provided application
examples:</a></p>
<hr />
<p>&lt;source lang="tcl"&gt;</p>
<ol>
<li>refer to " Quan Gu, Michele Barbato, and Joel P. Conte. Handling of
Constraints in Finite Element Response</li>
<li>Sensitivity Analysis. ASCE Journal of Engineering Mechanics.
2009."</li>
<li>test by Lei Wang, July 2018</li>
</ol>
<ol>
<li>Units: kips, in, sec</li>
<li>1 kips = 4448.222 N, 1 in= 0.0254 m</li>
<li></li>
<li>change to kN k-kg, kPa, m, sec.</li>
<li></li>
<li></li>
<li></li>
<li>15______________________ 16</li>
<li>/| /|</li>
<li>/ | / |</li>
<li>18/ | / |</li>
<li>|----------------------/17 | z</li>
<li>| | | | /|\ / y</li>
<li>| | | | | /</li>
<li>| |10________________|___|11 | /</li>
<li>| /| | /| | /</li>
<li>| / | | / | | /</li>
<li>|/ | |/ | |/</li>
<li>|13--------------------|12 | |-----------&gt; x</li>
<li>| | | |</li>
<li>| | | |</li>
<li>| |5_________________|___|6</li>
<li>| /| | /|</li>
<li>| / | | / |</li>
<li>|/ | |/ |</li>
<li>|8---------------------|7 |</li>
<li>| | | |</li>
<li>| | | |</li>
<li>| | | |</li>
<li>| |1 | |2</li>
<li>| |</li>
<li>|4 |3</li>
</ol>
<p>model BasicBuilder -ndm 3 -ndf 6 reliability set h 3.6576; # Story
height set by 6.096; # Bay width in Y-direction set bx 6.096; # Bay
width in X-direction</p>
<ol>
<li>tag X Y Z</li>
</ol>
<p>node 1 [expr -$bx/2] [expr $by/2] 0 node 2 [expr $bx/2] [expr $by/2]
0 node 3 [expr $bx/2] [expr -$by/2] 0 node 4 [expr -$bx/2] [expr -$by/2]
0 node 5 [expr -$bx/2] [expr $by/2] $h node 6 [expr $bx/2] [expr $by/2]
$h node 7 [expr $bx/2] [expr -$by/2] $h node 8 [expr -$bx/2] [expr
-$by/2] $h node 10 [expr -$bx/2] [expr $by/2] [expr 2*$h] node 11 [expr
$bx/2] [expr $by/2] [expr 2*$h] node 12 [expr $bx/2] [expr -$by/2] [expr
2*$h] node 13 [expr -$bx/2] [expr -$by/2] [expr 2*$h] node 15 [expr
-$bx/2] [expr $by/2] [expr 3*$h] node 16 [expr $bx/2] [expr $by/2] [expr
3*$h] node 17 [expr $bx/2] [expr -$by/2] [expr 3*$h] node 18 [expr
-$bx/2] [expr -$by/2] [expr 3*$h]</p>
<ol>
<li>----------------- Master nodes for rigid diaphragm ---------</li>
<li>tag X Y Z</li>
</ol>
<p>node 9 0 0 $h node 14 0 0 [expr 2*$h] node 19 0 0 [expr 3*$h]</p>
<ol>
<li>----------------- Set base constraints --------------------</li>
<li>tag DX DY DZ RX RY RZ</li>
</ol>
<p>fix 1 1 1 1 1 1 1 fix 2 1 1 1 1 1 1 fix 3 1 1 1 1 1 1 fix 4 1 1 1 1 1
1</p>
<ol>
<li>--------------- Define rigid diaphragm multi-point constraints
--</li>
</ol>
<ol>
<li>normalDir master slaves</li>
</ol>
<p>rigidDiaphragm 3 9 5 6 7 8 rigidDiaphragm 3 14 10 11 12 13
rigidDiaphragm 3 19 15 16 17 18</p>
<ol>
<li>-------------- Constraints for rigid diaphragm master nodes
------</li>
<li>tag DX DY DZ RX RY RZ</li>
</ol>
<p>fix 9 0 0 1 1 1 0 fix 14 0 0 1 1 1 0 fix 19 0 0 1 1 1 0</p>
<ol>
<li>------------- Define materials for nonlinear columns
------------</li>
</ol>
<ol>
<li>--- --------- Core concrete (confined) -------------------</li>
<li>tag f'c epsc0 f'cu epscu</li>
</ol>
<p>uniaxialMaterial Concrete01 1 -34473.8 -0.005 -24131.66 -0.02</p>
<ol>
<li>------------ Cover concrete (unconfined) ---------------</li>
</ol>
<p>set fc 27579.04 uniaxialMaterial Concrete01 2 -$fc -0.002 0.0
-0.006</p>
<ol>
<li>------------- Reinforcing steel ------------------------</li>
<li>tag fy E b</li>
</ol>
<p>uniaxialMaterial Steel01 3 248200. 2.1e8 0.02</p>
<ol>
<li>Column width</li>
</ol>
<p>set d 0.4572 source RCsection.tcl</p>
<ol>
<li>id h b coverThick coreID coverID steelID nBars area nfCoreY nfCoreZ
nfCoverY nfCoverZ</li>
</ol>
<p>RCsection 1 $d $d 0.04 1 2 3 3 0.00051 8 8 10 10</p>
<ol>
<li>Concrete elastic stiffness</li>
<li>set E [expr 57000.0*sqrt($fc*1000)/1000]; American unit</li>
</ol>
<p>set E 24855585.89304;</p>
<ol>
<li>---Column torsional stiffness</li>
</ol>
<p>set GJ 68947600000000;</p>
<ol>
<li>---Linear elastic torsion for the column</li>
</ol>
<p>uniaxialMaterial Elastic 10 $GJ</p>
<ol>
<li>---Attach torsion to the RC column section</li>
<li>tag uniTag uniCode secTag</li>
</ol>
<p>section Aggregator 2 10 T -section 1 set colSec 2</p>
<ol>
<li>-------------- Define column elements -----------------------</li>
</ol>
<p>geomTransf Linear 1 1 0 0</p>
<ol>
<li>Number of column integration points (sections)</li>
</ol>
<p>set np 4</p>
<ol>
<li>Create the nonlinear column elements</li>
<li>tag ndI ndJ nPts secID transf</li>
</ol>
<p>element dispBeamColumnWithSensitivity 1 1 5 $np $colSec 1 element
dispBeamColumnWithSensitivity 2 2 6 $np $colSec 1 element
dispBeamColumnWithSensitivity 3 3 7 $np $colSec 1 element
dispBeamColumnWithSensitivity 4 4 8 $np $colSec 1 element
dispBeamColumnWithSensitivity 5 5 10 $np $colSec 1 element
dispBeamColumnWithSensitivity 6 6 11 $np $colSec 1 element
dispBeamColumnWithSensitivity 7 7 12 $np $colSec 1 element
dispBeamColumnWithSensitivity 8 8 13 $np $colSec 1 element
dispBeamColumnWithSensitivity 9 10 15 $np $colSec 1 element
dispBeamColumnWithSensitivity 10 11 16 $np $colSec 1 element
dispBeamColumnWithSensitivity 11 12 17 $np $colSec 1 element
dispBeamColumnWithSensitivity 12 13 18 $np $colSec 1</p>
<ol>
<li>------------ Define beam elements ------------</li>
<li>Define material properties for elastic beams</li>
<li>Using beam depth of 24 and width of 18</li>
<li><hr /></li>
</ol>
<p>set Abeam 0.278709</p>
<ol>
<li>"Cracked" second moments of area</li>
</ol>
<p>set Ibeamzz 0.004315; set Ibeamyy 0.002427;</p>
<ol>
<li>Define elastic section for beams</li>
<li>tag E A Iz Iy G J</li>
</ol>
<p>section Elastic 3 $E $Abeam $Ibeamzz $Ibeamyy $GJ 1.0 set beamSec
3</p>
<ol>
<li>Geometric transformation for beams</li>
<li>tag vecxz</li>
</ol>
<p>geomTransf Linear 2 1 1 0</p>
<p>set np 3</p>
<ol>
<li>---------- Create the beam elements----------------</li>
<li>tag ndI ndJ nPts secID transf</li>
</ol>
<p>element dispBeamColumnWithSensitivity 13 5 6 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 14 6 7 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 15 7 8 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 16 8 5 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 17 10 11 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 18 11 12 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 19 12 13 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 20 13 10 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 21 15 16 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 22 16 17 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 23 17 18 $np $beamSec 2 Legendre
element dispBeamColumnWithSensitivity 24 18 15 $np $beamSec 2
Legendre</p>
<ol>
<li>--------------- Define gravity loads ----------------</li>
<li>Gravity load applied at each corner node</li>
<li>10% of column capacity</li>
</ol>
<p>set p 74.0</p>
<ol>
<li>--------------- Mass lumped at master nodes ---------</li>
</ol>
<p>set g 9.8; # Gravitational constant set m 30.0;</p>
<ol>
<li>Rotary inertia of floor about master node</li>
</ol>
<p>set i [expr $m*($bx*$bx+$by*$by)/12.0]</p>
<ol>
<li>Set mass at the master nodes</li>
<li>tag MX MY MZ RX RY RZ</li>
</ol>
<p>mass 9 $m $m 0 0 0 $i mass 14 $m $m 0 0 0 $i mass 19 $m $m 0 0 0
$i</p>
<ol>
<li>Define gravity loads</li>
<li>pattern Plain 1 Constant {</li>
</ol>
<p>pattern Plain 1 {Series -time {0.0 2.0 100000.0} -values {0.0 1.0
1.0} } { foreach node {5 6 7 8 10 11 12 13 15 16 17 18} { load $node 0.0
0.0 -$p 0.0 0.0 0.0 } }</p>
<ol>
<li><hr /></li>
<li>CORE CONCRETE</li>
<li></li>
<li>------------------------------ R.V.#1 Core concrete
epsco----------------------------------------------</li>
</ol>
<p>set h epsco set gradNumber 1</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 1
$h addToParameter $gradNumber -element 11 -section 2 -section -material
1 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 1 $h</p>
<p>recorder Node -file ddmCore9epsco.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 1" recorder Node -file ddmCore14epsco.out -time -node 14
-dof 1 2 3 4 5 6 "sensitivity 1" recorder Node -file ddmCore19epsco.out
-time -node 19 -dof 1 2 3 4 5 6 "sensitivity 1"</p>
<ol>
<li>------------------------------ R.V.#2 Core concrete
fc----------------------------------------------</li>
</ol>
<p>set h fc set gradNumber 2</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 1
$h addToParameter $gradNumber -element 11 -section 2 -section -material
1 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 1 $h</p>
<p>recorder Node -file ddmCore9fc.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 2" recorder Node -file ddmCore14fc.out -time -node 14 -dof
1 2 3 4 5 6 "sensitivity 2" recorder Node -file ddmCore19fc.out -time
-node 19 -dof 1 2 3 4 5 6 "sensitivity 2"</p>
<ol>
<li>------------------------------ R.V.#3 Core concrete
epscu----------------------------------------------</li>
</ol>
<p>set h epscu set gradNumber 3</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 1
$h addToParameter $gradNumber -element 11 -section 2 -section -material
1 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 1 $h</p>
<p>recorder Node -file ddmCore9epscu.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 3" recorder Node -file ddmCore14epscu.out -time -node 14
-dof 1 2 3 4 5 6 "sensitivity 3" recorder Node -file ddmCore19epscu.out
-time -node 19 -dof 1 2 3 4 5 6 "sensitivity 3"</p>
<ol>
<li>------------------------------ R.V.#4 Core concrete
fcu----------------------------------------------</li>
</ol>
<p>set h fcu set gradNumber 4</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 1 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 1
$h addToParameter $gradNumber -element 11 -section 2 -section -material
1 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 1 $h</p>
<p>recorder Node -file ddmCore9fcu.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 4" recorder Node -file ddmCore14fcu.out -time -node 14 -dof
1 2 3 4 5 6 "sensitivity 4" recorder Node -file ddmCore19fcu.out -time
-node 19 -dof 1 2 3 4 5 6 "sensitivity 4"</p>
<ol>
<li><hr /></li>
<li>COVER CONCRETE</li>
<li></li>
<li>------------------------------ R.V.#5 Cover concrete
epsco----------------------------------------------</li>
</ol>
<p>set h epsco set gradNumber 5</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 2
$h addToParameter $gradNumber -element 11 -section 2 -section -material
2 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 2 $h</p>
<p>recorder Node -file ddmCover9epsco.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 5" recorder Node -file ddmCover14epsco.out -time -node 14
-dof 1 2 3 4 5 6 "sensitivity 5" recorder Node -file ddmCover19epsco.out
-time -node 19 -dof 1 2 3 4 5 6 "sensitivity 5"</p>
<ol>
<li>------------------------------ R.V.#6 Cover concrete
fc----------------------------------------------</li>
</ol>
<p>set h fc set gradNumber 6</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 2
$h addToParameter $gradNumber -element 11 -section 2 -section -material
2 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 2 $h</p>
<p>recorder Node -file ddmCover9fc.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 6" recorder Node -file ddmCover14fc.out -time -node 14 -dof
1 2 3 4 5 6 "sensitivity 6" recorder Node -file ddmCover19fc.out -time
-node 19 -dof 1 2 3 4 5 6 "sensitivity 6"</p>
<ol>
<li>------------------------------ R.V.#7 Cover concrete
epscu----------------------------------------------</li>
</ol>
<p>set h epscu set gradNumber 7</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 2
$h addToParameter $gradNumber -element 11 -section 2 -section -material
2 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 2 $h</p>
<p>recorder Node -file ddmCover9epscu.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 7" recorder Node -file ddmCover14epscu.out -time -node 14
-dof 1 2 3 4 5 6 "sensitivity 7" recorder Node -file ddmCover19epscu.out
-time -node 19 -dof 1 2 3 4 5 6 "sensitivity 7"</p>
<ol>
<li>------------------------------ R.V.#8 Cover concrete
fcu----------------------------------------------</li>
</ol>
<p>set h fcu set gradNumber 8</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 2 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 2
$h addToParameter $gradNumber -element 11 -section 2 -section -material
2 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 2 $h</p>
<p>recorder Node -file ddmCover9fcu.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 8" recorder Node -file ddmCover14fcu.out -time -node 14
-dof 1 2 3 4 5 6 "sensitivity 8" recorder Node -file ddmCover19fcu.out
-time -node 19 -dof 1 2 3 4 5 6 "sensitivity 8"</p>
<ol>
<li><hr /></li>
<li>STEEL SENSITIVITY</li>
<li></li>
<li>------------------------------ R.V.#9 steel fy
----------------------------------------------</li>
</ol>
<p>set h sigmaY set gradNumber 9</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 3
$h addToParameter $gradNumber -element 11 -section 2 -section -material
3 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 3 $h</p>
<p>recorder Node -file ddmSteel9fy.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 9" recorder Node -file ddmSteel14fy.out -time -node 14 -dof
1 2 3 4 5 6 "sensitivity 9" recorder Node -file ddmSteel19fy.out -time
-node 19 -dof 1 2 3 4 5 6 "sensitivity 9"</p>
<ol>
<li>------------------------------ R.V.#10 steel E
----------------------------------------------</li>
</ol>
<p>set h E set gradNumber 10</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 3
$h addToParameter $gradNumber -element 11 -section 2 -section -material
3 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 3 $h</p>
<p>recorder Node -file ddmSteel9E.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 10" recorder Node -file ddmSteel14E.out -time -node 14 -dof
1 2 3 4 5 6 "sensitivity 10" recorder Node -file ddmSteel19E.out -time
-node 19 -dof 1 2 3 4 5 6 "sensitivity 10"</p>
<ol>
<li>------------------------------ R.V.#11 steel b
----------------------------------------------</li>
</ol>
<p>set h b set gradNumber 11</p>
<p>parameter $gradNumber -element 1 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 2 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 3 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 4 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 5 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 6 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 7 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 8 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 9 -section 2 -section -material 3 $h
addToParameter $gradNumber -element 10 -section 2 -section -material 3
$h addToParameter $gradNumber -element 11 -section 2 -section -material
3 $h addToParameter $gradNumber -element 12 -section 2 -section
-material 3 $h</p>
<p>recorder Node -file ddmSteel9b.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 11" recorder Node -file ddmSteel14b.out -time -node 14 -dof
1 2 3 4 5 6 "sensitivity 11" recorder Node -file ddmSteel19b.out -time
-node 19 -dof 1 2 3 4 5 6 "sensitivity 11"</p>
<ol>
<li>------------------------------ R.V.#12 column GJ
----------------------------------------------</li>
</ol>
<p>set h E set gradNumber 12</p>
<p>parameter $gradNumber -element 1 -section 2 $h addToParameter
$gradNumber -element 2 -section 2 $h addToParameter $gradNumber -element
3 -section 2 $h addToParameter $gradNumber -element 4 -section 2 $h
addToParameter $gradNumber -element 5 -section 2 $h addToParameter
$gradNumber -element 6 -section 2 $h addToParameter $gradNumber -element
7 -section 2 $h addToParameter $gradNumber -element 8 -section 2 $h
addToParameter $gradNumber -element 9 -section 2 $h addToParameter
$gradNumber -element 10 -section 2 $h addToParameter $gradNumber
-element 11 -section 2 $h addToParameter $gradNumber -element 12
-section 2 $h</p>
<p>recorder Node -file ddm9GJ.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 12" recorder Node -file ddm14GJ.out -time -node 14 -dof 1 2
3 4 5 6 "sensitivity 12" recorder Node -file ddm19GJ.out -time -node 19
-dof 1 2 3 4 5 6 "sensitivity 12"</p>
<ol>
<li><hr /></li>
<li></li>
<li>ELASTIC BEAM</li>
<li></li>
<li><hr /></li>
</ol>
<ol>
<li>------------------------------ R.V.#13 Beam E
----------------------------------------------</li>
</ol>
<p>set h E set gradNumber 13</p>
<p>parameter $gradNumber -element 13 -section 3 $h addToParameter
$gradNumber -element 14 -section 3 $h addToParameter $gradNumber
-element 15 -section 3 $h addToParameter $gradNumber -element 16
-section 3 $h addToParameter $gradNumber -element 17 -section 3 $h
addToParameter $gradNumber -element 18 -section 3 $h addToParameter
$gradNumber -element 19 -section 3 $h addToParameter $gradNumber
-element 20 -section 3 $h addToParameter $gradNumber -element 21
-section 3 $h addToParameter $gradNumber -element 22 -section 3 $h
addToParameter $gradNumber -element 23 -section 3 $h addToParameter
$gradNumber -element 24 -section 3 $h</p>
<p>recorder Node -file ddm9BeamE.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 13" recorder Node -file ddm14BeamE.out -time -node 14 -dof
1 2 3 4 5 6 "sensitivity 13" recorder Node -file ddm19BeamE.out -time
-node 19 -dof 1 2 3 4 5 6 "sensitivity 13"</p>
<ol>
<li>------------------------------ R.V.#14 Beam G
----------------------------------------------</li>
</ol>
<p>set h G set gradNumber 14</p>
<p>parameter $gradNumber -element 13 -section 3 $h addToParameter
$gradNumber -element 14 -section 3 $h addToParameter $gradNumber
-element 15 -section 3 $h addToParameter $gradNumber -element 16
-section 3 $h addToParameter $gradNumber -element 17 -section 3 $h
addToParameter $gradNumber -element 18 -section 3 $h addToParameter
$gradNumber -element 19 -section 3 $h addToParameter $gradNumber
-element 20 -section 3 $h addToParameter $gradNumber -element 21
-section 3 $h addToParameter $gradNumber -element 22 -section 3 $h
addToParameter $gradNumber -element 23 -section 3 $h addToParameter
$gradNumber -element 24 -section 3 $h</p>
<p>recorder Node -file ddm9BeamG.out -time -node 9 -dof 1 2 3 4 5 6
"sensitivity 14" recorder Node -file ddm14BeamG.out -time -node 14 -dof
1 2 3 4 5 6 "sensitivity 14" recorder Node -file ddm19BeamG.out -time
-node 19 -dof 1 2 3 4 5 6 "sensitivity 14"</p>
<ol>
<li>---------------------- Define earthquake excitation
------------</li>
<li>Set up the acceleration records for Tabas fault normal and fault
parallel</li>
</ol>
<p>set tabasFN "Path -filePath tabasFN.txt -dt 0.02 -factor $g" set
tabasFP "Path -filePath tabasFP.txt -dt 0.02 -factor $g"</p>
<ol>
<li>tag dir accel series args</li>
</ol>
<p>pattern UniformExcitation 2 1 -accel $tabasFN pattern
UniformExcitation 3 2 -accel $tabasFP</p>
<p>recorder Node -file node.out -time -node 9 14 19 -dof 1 2 3 4 5 6
-precision 16 disp</p>
<ol>
<li>------------------------- add static analysis
------------------------</li>
</ol>
<p>constraints Transformation</p>
<ol>
<li>tol maxIter printFlag</li>
</ol>
<p>test EnergyIncr 1.0e-16 20 2 integrator LoadControl 1 1 1 1 algorithm
Newton system BandGeneral numberer RCM</p>
<p>analysis Static sensitivityAlgorithm -computeAtEachStep</p>
<p>set startT [clock seconds] analyze 3 puts "soil gravity nonlinear
analysis completed ..."</p>
<ol>
<li>------------------------- add analysis ------------------------</li>
</ol>
<p>wipeAnalysis</p>
<ol>
<li>tol maxIter printFlag</li>
</ol>
<p>test EnergyIncr 1.0e-16 20 2 algorithm Newton system BandGeneral
constraints Transformation</p>
<ol>
<li>integrator Newmark 0.5 0.25</li>
</ol>
<p>numberer RCM</p>
<p>integrator Newmark 0.55 0.275625</p>
<ol>
<li>(0.55+0.5)^2/4=0.275625</li>
</ol>
<p>analysis Transient</p>
<p>sensitivityAlgorithm -computeAtEachStep</p>
<p>analyze 2500 0.01</p>
<p>set endT [clock seconds] puts "Execution time: [expr $endT-$startT]
seconds."</p>
<p>&lt;/source&gt;</p>
